<div id="notes-panel" ng-style="notesPanelStyle"> <div class="notes-panel-header" style="position:relative;border-bottom: 1px solid #000"> <i style="" ng-if="(userNotes|filter:{page:current.article || note.page == spread.article}).length>0 && !notesPanelOnStage" class="fa fa-comment note-indicator"></i> <span ng-click="toggleNotePanel()" class="" style="font-size:24px;position:relative;display: inline-block; transition:1s; font-weight:bold" ng-style="notesPanelArrowStyle">&raquo;</span> <span ng-if="notesPanelOnStage">| {{txtNotePanelHeading}}</span> <span ng-click="toggleNotes()" style="font-size:24px;position:absolute;right:0px;top:5px" class="fa fa-times"></span> </div> <div class="notes-toolbar" ng-if="!signedOut"> <button style="font-size:24px" type="image" src="images/rectnote.png" ng-click="rectangleTool()" class="" id="note-rectangle" title="uusi merkintÃ¤"> <i class="fa fa-edit"></i> </button> <button style="font-size:24px" ng-click="pageNote(current.article, spread.article)" class="" id="note-text" title="uusi muistiinpano"> <i class="fa fa-comment"></i> </button> </div> <div id="notes-login" ng-show="notesPanelOnStage && signedOut"> <p class="notes-disclaimer">{{txtNotesNotLoggedIn}}</p> <form> <input type="text" ng-model="notesEmail" ng-focus="notesLoginStart($event)"><br> <input type="password" ng-model="notesPassword" ng-focus="notesLoginStart($event)"><br> <span id="notes-login-btn" style="cursor:pointer" ng-click="logIn()">{{NotesloginButton}}</span><br> <div id="notes-login-info"> {{notesLoginInfo}} </div> </form> </div> <div id="note-list" ng-if="!signedOut && notesPanelOnStage"> <section class="page-note-area" ng-if="notesPanelOnStage"> <h3>{{txtNotePanelPageNotes}}</h3> <table style="width:100%"> <tr style="border-bottom:1px solid #f3e868" ng-repeat="note in userNotes | orderBy : 'createdDate' : true" ng-if="note.page == current.article || note.page == spread.article"> <td style="width:10%; text-align:left; cursor:pointer; padding-left: 10px" ng-click="noteJump(note.page * 1)"> <span class="note-list-style-{{note.style}}">&nbsp;</span> </td> <td style="width:60%; padding-left: 10px"> <span ng-if="note.id == noteConfirmID" ng-click="deleteNote(note.id)" style="cursor:pointer;color:#900;font-weight:bold">Poista</span><span ng-if="note.id == noteConfirmID" ng-click="cancelDelete()" style="cursor:pointer;color:#666;font-weight:bold"> Peruuta</span> <span class="note-panel-note" ng-if="note.id != noteConfirmID" style="font-weight:bold" ng-click="editNote(note)" title="{{note.content}}">{{ note.content.substr(0,15) }}</span><span ng-if="note.content.length > 20">...</span> </td> <td style="width:30%; text-align:right"> <button ng-click="deleteNoteConfirm(note.id)" class="btn btn-sm" id="delete-note" title="poista muistiinpano"> <i class="fa fa-trash"></i> </button> </td> </tr> </table> </section> <section class="all-notes-area" ng-if="notesPanelOnStage"> <h3>{{txtNotePanelAllNotes}}</h3> <table style="width:100%" style="font-size:0.8em"> <tr style="border-bottom:1px solid #ddd" ng-repeat="note in userNotes | orderBy : 'page'"> <td style="width:10%; text-align:left; cursor:pointer; padding-left: 10px" ng-click="noteJump(note.page * 1)"> <span class="note-list-style-{{note.style}}">&nbsp;</span> </td> <td style="width:15%; text-align:left; cursor:pointer; padding-left: 10px" ng-click="noteJump(note.page * 1)"> <span class="note-panel-page-number">{{ note.page }}</span> </td> <td style="width:60%; cursor:pointer"> <span ng-if="note.id == noteConfirmID" ng-click="deleteNote(note.id)" style="cursor:pointer;color:#900;font-weight:bold">Poista</span><span ng-if="note.id == noteConfirmID" ng-click="cancelDelete()" style="cursor:pointer;color:#666;font-weight:bold"> Peruuta</span> <span ng-if="note.id != noteConfirmID" class="note-panel-note" title="{{note.content}}" ng-click="noteJump(note.page * 1)">{{ note.content.substr(0,15) }}</span><span ng-if="note.content.length > 20">...</span> </td> <td style="width:15%; text-align:right"> <button ng-click="deleteNoteConfirm(note.id)" class="btn btn-sm" id="delete-note" title="poista muistiinpano"> <i class="fa fa-trash"></i> </button> </td> </tr> </table> </section> </div> </div>